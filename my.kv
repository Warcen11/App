<application>
    BoxLayout:
        size: root.size
        orientation: 'vertical'
        SM:
            id: sm
        BoxLayout:
            size_hint_y: 0.1
            Button:
                on_release:
                    sm.transition.direction='right'
                    sm.current='catalog'
            Button:
                on_release:
                    if sm.current=='catalog': sm.transition.direction='left'
                    if sm.current=='account': sm.transition.direction='right'
                    sm.current='main'
            Button:
                on_release:
                    sm.transition.direction='left'
                    sm.current='account'
<SM>
    MainScreen:
    CatalogScreen:
    AccountScreen:
<MainScreen>
    name: 'main'
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            font_size: 24
            size_hint_y: 0.1
            on_text:
                list.Update(self.text.lower())
        Scroll:
            ProductList:
                id: list
<CatalogButton>
    canvas.before:
        Color:
            rgba: .5, .5, .5, 1
        Rectangle:
            pos: self.pos
            size: self.size
<CatalogScreen>
    name: 'catalog'
    GridLayout:
        cols: 1
        padding: 10
        spacing: 10
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Гостиная'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Спальня'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Прихожая'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Детская'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Кухня'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Библиотека'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Комоды'
        CatalogButton:
            on_release:
                root.manager.current='main'
                root.manager.transition.direction='left'
            Label:
                text: 'Шкафы'
<AccountScreen>
    name: 'account'
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            canvas.before:
                Color:
                    rgba: .5, .5, .5, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: .25
            BoxLayout:
                Label:
                    text: 'Image'
            BoxLayout:
                orientation: 'vertical'
                Label:
                    text: 'Имя пользователя'
                Label:
                    text: 'email'
        GridLayout:
            cols:1
            Label:
                text: 'Корзина'
<Scroll>
<ProductList>
    cols: 1
    size_hint_y: None
    spacing: 10
    padding: 10
<Product>
    size_hint_y: None
    height: 100
